% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_reads.R
\name{plot_stacked_bars}
\alias{plot_stacked_bars}
\title{Create Stacked Bar Plots from Wide-Format Data}
\usage{
plot_stacked_bars(data, proportions = TRUE, sample_col = NULL)
}
\arguments{
\item{data}{A data frame in wide format where the first column contains
sample identifiers and subsequent columns contain numeric values to plot.}

\item{proportions}{Logical. If \code{TRUE} (default), creates a proportional
stacked bar plot. If \code{FALSE}, creates an absolute value plot.}

\item{sample_col}{Character. Name of the sample column. If \code{NULL} (default),
uses the first column name.}
}
\value{
A ggplot2 object showing horizontal stacked bars.
}
\description{
Converts wide-format data to long format and creates horizontal stacked bar
plots showing either absolute values or proportions. Useful for visualising
compositional data such as species abundance, sequencing reads, or survey responses.
}
\details{
The function automatically pivots wide data to long format,
calculates sample totals and proportions, then creates a stacked bar plot.
When \code{proportions = TRUE}, bars sum to 1.0 for each sample. When
\code{proportions = FALSE}, bars show absolute values.
}
\examples{
# Create example data
example_data <- data.frame(
  sample = c("Site_A", "Site_B", "Site_C"),
  species_1 = c(150, 200, 100),
  species_2 = c(300, 150, 250),
  species_3 = c(50, 100, 75)
)

# Proportional plot (default)
plot_stacked_bars(example_data)

# Absolute values plot
plot_stacked_bars(example_data, proportions = FALSE)

}
